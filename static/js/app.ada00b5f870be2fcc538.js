webpackJsonp([1],{"1/oy":function(e,t){},"1YeQ":function(e,t){},"1wr4":function(e,t){},GfHa:function(e,t){},"HWp+":function(e,t){},Id91:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("wg8Y"),a("oFcf"),a("vH9D");var n=a("7+uW"),s=a("e6fC"),l=a("XyMi");var o=function(e){a("NY3r")},r=Object(l.a)({name:"app",created:function(){}},function(){var e=this.$createElement;return(this._self._c||e)("router-view")},[],!1,o,null,null).exports,i=a("/ocq"),c={items:[{title:!0,name:"Admin",class:"",wrapper:{element:"",attributes:{}}},{name:"Templates",url:"/templates",icon:"icon-note"},{name:"Briefcase",url:"/briefcase",icon:"icon-briefcase"},{name:"Create Post",url:"/create-post",icon:"icon-envelope"},{title:!0,name:"Updates",class:"",wrapper:{element:"",attributes:{}}},{name:"Food Menu",url:"/food-menu",icon:"icon-list"},{name:"Cab Schedule",url:"/cab-schedule",icon:"icon-speedometer",badge:{variant:"primary",text:"NEW"}},{name:"Holidays",url:"/holidays-list",icon:"icon-bell"}]},m=a("TQur"),d={name:"full",components:{AsideToggler:m.b,AppHeader:m.e,AppSidebar:m.f,AppAside:m.a,TheFooter:m.d,Breadcrumb:m.c,SidebarForm:m.h,SidebarFooter:m.g,SidebarToggler:m.l,SidebarHeader:m.i,SidebarNav:m.k,SidebarMinimizer:m.j},data:function(){return{nav:c.items}},computed:{name:function(){return this.$route.name},list:function(){return this.$route.matched}}},u=Object(l.a)(d,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app"},[a("AppHeader",{attrs:{fixed:""}},[a("SidebarToggler",{staticClass:"d-lg-none",attrs:{display:"md",mobile:""}}),e._v(" "),a("b-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[a("img",{staticClass:"navbar-brand-full",attrs:{src:"static/img/CES-Logo.png",width:"64",alt:"CES IT"}}),e._v(" "),a("img",{staticClass:"navbar-brand-minimized",attrs:{src:"static/img/CES-Logo.png",width:"30",alt:"CES IT"}})]),e._v(" "),a("SidebarToggler",{staticClass:"d-md-down-none position-absolute left-180-p",attrs:{display:"lg"}})],1),e._v(" "),a("div",{staticClass:"app-body"},[a("AppSidebar",{attrs:{fixed:""}},[a("SidebarHeader"),e._v(" "),a("SidebarForm"),e._v(" "),a("SidebarNav",{attrs:{navItems:e.nav}}),e._v(" "),a("SidebarFooter"),e._v(" "),a("SidebarMinimizer")],1),e._v(" "),a("main",{staticClass:"main"},[a("breadcrumb",{attrs:{list:e.list}}),e._v(" "),a("div",{staticClass:"container-fluid"},[a("router-view")],1)],1)],1)],1)},[],!1,null,null,null).exports,v=a("fZjL"),p=a.n(v),h=firebase.database().ref("posts"),f={name:"foodMenu",props:{cardTitle:String},data:function(){return{allPosts:[],allFields:[]}},created:function(){var e=this;h.on("child_added",function(t){"food-menu"===t.val().category&&(e.allPosts=t.val(),e.allFields=p()(e.allPosts.values[0]))})}};var b=function(e){a("pieq")},_=Object(l.a)(f,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",[e.allPosts.from?[""!==e.cardTitle?a("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n      "+e._s(e.allPosts.from)+" till "+e._s(e.allPosts.to)+"\n    ")]):e._e()]:[e._v("\n    Loading...\n  ")],e._v(" "),e._l(e.allPosts.values,function(t,n){return a("div",{key:n,staticClass:"container"},[e.allPosts.values[n+1]?[t.Date===e.allPosts.values[n+1].Date?a("div",{staticClass:"row",class:0===n?"food-header-zero":"food-header"},[a("div",{staticClass:"col"},[a("h3",[e._v(e._s(t.Date))]),e._v("\n            ("+e._s(t.Day)+")\n          ")])]):e._e()]:e._e(),e._v(" "),a("div",{staticClass:"row food-row text-center"},[a("div",{staticClass:"col-sm-12 col-md-4 col-lg-4 "},["Lunch"===t.Option?a("b-badge",{staticStyle:{padding:"10px","margin-top":"10px"},attrs:{variant:"warning"}},[e._v(e._s(t.Option))]):e._e(),e._v(" "),"Dinner"===t.Option?a("b-badge",{staticStyle:{padding:"10px","margin-top":"10px"},attrs:{variant:"success"}},[e._v(e._s(t.Option))]):e._e()],1),e._v(" "),e._l(e.allFields,function(n,s){return"Date"!==n&&"Day"!==n&&"Option"!==n?a("div",{key:s,staticClass:"col-sm-12 col-md-4 col-lg-4 "},[a("code",[e._v(e._s(n))]),e._v(" "),a("div",[e._v(e._s(t[n]))])]):e._e()})],2)],2)})],2)},[],!1,b,null,null).exports,C={name:"dashboard",components:{FoodMenu:_},data:function(){return{}},created:function(){},methods:{}};var g=function(e){a("nUnZ")},T=Object(l.a)(C,function(){var e=this.$createElement;return(this._self._c||e)("div")},[],!1,g,null,null).exports,y=a("NYxO");n.a.use(y.a);var w=new y.a.Store({state:{selectedTemplateName:""},mutations:{selectTemplate:function(e,t){e.selectedTemplateName=t},clearSelected:function(e){e.selectedTemplateName=""}}}),x=firebase.database().ref("templates"),S={name:"manageTemplates",data:function(){return{templates:[]}},props:["cardTitle"],created:function(){var e=this;x.on("child_added",function(t){e.templates.push(t.val())})},methods:{selectTemplate:function(e){w.commit("selectTemplate",e)}}};var k=function(e){a("kd0g")},N=Object(l.a)(S,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("strong",[e._v(e._s(e.cardTitle))])]),e._v(" "),a("b-row",[e._l(e.templates,function(t,n){return a("b-col",{key:n,attrs:{sm:"6",lg:"3"}},[a("b-card",{on:{click:function(a){e.selectTemplate(t.name)}}},[a("div",{staticClass:"h4 m-0"},[e._v(e._s(t.name))]),e._v(" "),a("b-progress",{staticClass:"progress-xs my-3",attrs:{height:"{}",variant:"warning",value:100*t.columns.length/6}})],1)],1)}),e._v(" "),a("b-col",{attrs:{sm:"6",lg:"3"}},[a("b-card",{on:{click:function(t){e.selectTemplate("announcement")}}},[a("div",{staticClass:"h4 m-0"},[e._v("Announcement")]),e._v(" "),a("b-progress",{staticClass:"progress-xs my-3",attrs:{height:"{}",variant:"success",value:100}})],1)],1)],2)],1)},[],!1,k,null,null).exports,O=firebase.database().ref("templates"),D={name:"createTemplate",components:{cSwitch:m.m},data:function(){return{vmEnableSave:!1,vmTmplName:"",vmIsDataTemplate:!1,vmColumnControls:[""],vmColumnsTable:[]}},methods:{clkSaveTemplate:function(){var e=this.vmIsDataTemplate?"data":"post";O.push({name:this.vmTmplName,columns:this.vmColumnsTable,postType:e}),this.vmTmplName="",this.vmColumnControls=[""],this.vmColumnsTable=[],this.vmEnableSave=!1},clkResetTemplate:function(){this.vmTmplName="",this.vmColumnControls=[""],this.vmColumnsTable=[],this.vmEnableSave=!1},checkColumns:function(){var e=!0;if(this.vmColumnControls.length>6)return!1;for(var t=0;t<this.vmColumnControls.length;t++)""===this.vmColumnControls[t]&&(e=!1);return e},clkRemoveColumn:function(e){this.vmColumnControls.splice(e,1),this.vmColumnsTable.splice(e,1)},clkUpdateColumn:function(e){this.vmColumnsTable[e]=this.vmColumnControls[e]},clkAddColumn:function(){var e=this.vmColumnControls.length-1;this.vmColumnControls.push(""),this.vmColumnsTable.push(this.vmColumnControls[e])}}};var j=function(e){a("1wr4")},E={name:"templates",components:{ManageTemplates:N,CreateTemplate:Object(l.a)(D,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("strong",[e._v("Create New Template")]),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.vmColumnsTable.length>0,expression:"vmColumnsTable.length > 0"}],staticClass:"animated fadeIn"},[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:e.clkSaveTemplate}},[e._v("Save Template")]),e._v(" "),a("b-button",{attrs:{type:"button",variant:"secondary"},on:{click:e.clkResetTemplate}},[e._v("Reset")])],1)]),e._v(" "),a("b-row",[a("b-col",{attrs:{sm:"6"}},[a("b-row",[a("b-col",{attrs:{sm:"8"}},[e._v("\n          Is Data template? "),a("c-switch",{staticClass:"mx-1",attrs:{color:"danger",variant:"pill"},model:{value:e.vmIsDataTemplate,callback:function(t){e.vmIsDataTemplate=t},expression:"vmIsDataTemplate"}})],1)],1),e._v(" "),a("b-row",[a("b-col",{attrs:{sm:"8"}},[a("b-form-group",[a("b-input-group",[a("b-input-group-prepend",[a("b-input-group-text",[a("i",{staticClass:"fa fa-envelope-o"})])],1),e._v(" "),a("b-form-input",{attrs:{type:"text",placeholder:"Template Name",title:"eg: FoodTemplate1"},model:{value:e.vmTmplName,callback:function(t){e.vmTmplName=t},expression:"vmTmplName"}})],1)],1)],1)],1),e._v(" "),a("b-row",[a("b-col",{attrs:{sm:"8"}},[a("b-form-group",[a("label",{attrs:{for:""}},[a("strong",[e._v("Columns")])]),e._v(" "),e._l(e.vmColumnControls,function(t,n){return a("span",{key:n},[a("div",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.vmColumnsTable[n],expression:"vmColumnsTable[colIndex] !== undefined"}],staticClass:"cursor-pointer",on:{click:function(t){e.clkRemoveColumn(n)}}},[e._v("- Remove")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:void 0!==e.vmColumnsTable[n],expression:"vmColumnsTable[colIndex] !== undefined"}],staticClass:"cursor-pointer",on:{click:function(t){e.clkUpdateColumn(n)}}},[e._v("= Update")]),e._v(" "),a("b-form-input",{directives:[{name:"show",rawName:"v-show",value:n<6,expression:"colIndex < 6"}],attrs:{type:"text",placeholder:"eg: Full Name"},model:{value:e.vmColumnControls[n],callback:function(t){e.$set(e.vmColumnControls,n,t)},expression:"vmColumnControls[colIndex]"}})],1)}),e._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.checkColumns(),expression:"checkColumns()"}],staticClass:"cursor-pointer",on:{click:e.clkAddColumn}},[e._v("+ Add column")])],2)],1)],1)],1),e._v(" "),a("b-col",{attrs:{sm:"6"}},[e.vmColumnsTable.length>0&&""!==e.vmTmplName?a("div",[a("strong",[e._v(e._s(e.vmTmplName))]),e._v(" ( sample )\n\n        "),a("b-table",{attrs:{hover:!0,striped:!0,bordered:!0,small:!0,fixed:!0,responsive:"sm",fields:e.vmColumnsTable}})],1):e._e()])],1)],1)},[],!1,j,null,null).exports}};var A=function(e){a("yDK8")},R=Object(l.a)(E,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"animated fadeIn"},[t("create-template"),this._v(" "),t("manage-templates",{attrs:{"card-title":"Edit Template"}})],1)},[],!1,A,null,null).exports,F=a("BO1k"),I=a.n(F),P=a("mvHQ"),L=a.n(P),$=firebase.database().ref("templates"),H={name:"newRecord",data:function(){return{selectedTemplate:{},selectedKey:0,dataObj:[],vmPostType:"",newRowObj:{},categoryName:"",fromDate:"",toDate:""}},computed:{selectedName:function(){return w.state.selectedTemplateName}},methods:{initiateControls:function(){this.dataObj=[],this.newRowObj={};for(var e=0;e<this.selectedTemplate.columns.length;e++)this.newRowObj[this.selectedTemplate.columns[e]]="";this.dataObj.push(this.newRowObj)},resetTemplate:function(){w.commit("clearSelected")},addNewRow:function(){this.newRowObj={};for(var e=0;e<this.selectedTemplate.columns.length;e++)this.newRowObj[this.selectedTemplate.columns[e]]="";this.dataObj.push(this.newRowObj)},clkSaveChanges:function(){var e={name:this.selectedName,values:JSON.parse(L()(this.dataObj)),category:this.categoryName,from:this.fromDate,to:this.toDate},t="";t="data"===this.vmPostType?firebase.database().ref("data"):firebase.database().ref("posts"),console.log(this.dataObj),t.push(e,this.fbCallback)},fbCallback:function(e){e?console.log("WRITE FAILED"):console.log("DATA SAVED SUCCESSFULLY")}},created:function(){var e=this;$.on("value",function(t){var a=!0,n=!1,s=void 0;try{for(var l,o=I()(p()(t.val()));!(a=(l=o.next()).done);a=!0){var r=l.value;if(t.val()[r].name===e.selectedName){e.selectedTemplate=t.val()[r],e.selectedKey=r,e.initiateControls(),e.vmPostType=e.selectedTemplate.postType;break}}}catch(e){n=!0,s=e}finally{try{!a&&o.return&&o.return()}finally{if(n)throw s}}})}};var M=function(e){a("sCty")},U={name:"createPost",components:{ManageTemplates:N,NewRecord:Object(l.a)(H,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"animated fadeIn disable-select"},["announcement"!==e.selectedName?a("b-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("strong",[e._v(" "+e._s(e.selectedName)+" ")]),e._v(" "),a("span",{on:{click:function(t){e.resetTemplate()}}},[e._v("\n        Cancel and go back to choose template\n      ")])]),e._v(" "),"data"!==e.vmPostType?a("b-row",[a("b-col",{attrs:{sm:"6",lg:"4"}},[a("b-form-input",{attrs:{type:"text",placeholder:"Category"},model:{value:e.categoryName,callback:function(t){e.categoryName=t},expression:"categoryName"}})],1),e._v(" "),a("b-col",{attrs:{sm:"6",lg:"4"}},[a("b-form-input",{attrs:{type:"text",placeholder:"From Date"},model:{value:e.fromDate,callback:function(t){e.fromDate=t},expression:"fromDate"}}),e._v(" "),a("b-form-input",{attrs:{type:"text",placeholder:"To Date"},model:{value:e.toDate,callback:function(t){e.toDate=t},expression:"toDate"}})],1),e._v(" "),a("b-col",{attrs:{sm:"6",lg:"4"}},[e._v("Checkbox: Dated post")])],1):e._e(),e._v(" "),a("table",[a("thead",[a("tr",e._l(e.selectedTemplate.columns,function(t,n){return a("th",{key:n},[e._v("\n            "+e._s(t)+"\n          ")])}))]),e._v(" "),a("tbody",e._l(e.dataObj,function(t,n){return a("tr",{key:n},e._l(e.selectedTemplate.columns,function(t,n){return a("td",{key:n},[a("b-form-input",{attrs:{type:"text",placeholder:""},model:{value:e.newRowObj[t],callback:function(a){e.$set(e.newRowObj,t,a)},expression:"newRowObj[eachColumn]"}})],1)}))}))]),e._v(" "),a("b-row",[a("b-col",{attrs:{sm:"4",lg:"4"},on:{click:e.addNewRow}},[e._v("Add New Row")]),e._v(" "),a("b-col",{attrs:{sm:"4",lg:"4"}},[a("b-button",{attrs:{type:"submit",variant:"primary"},on:{click:e.clkSaveChanges}},["data"!==e.vmPostType?a("span",[e._v("Save & Publish")]):e._e(),e._v(" "),"data"===e.vmPostType?a("span",[e._v("Save Data")]):e._e()])],1)],1)],1):e._e(),e._v(" "),"announcement"===e.selectedName?a("b-card",[e._v("\n    TEXT AREA\n  ")]):e._e()],1)},[],!1,M,null,null).exports},computed:{templateSelected:function(){return w.state.selectedTemplateName}}};var Y=function(e){a("OSM3")},z=Object(l.a)(U,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"animated fadeIn"},[""===this.templateSelected?t("manage-templates",{attrs:{"card-title":"Choose a Template"}}):this._e(),this._v(" "),""!==this.templateSelected?t("new-record"):this._e()],1)},[],!1,Y,null,null).exports,B=firebase.database().ref("posts"),Q={name:"holidaysList",props:{cardTitle:String},data:function(){return{holidaysList:[],allFields:[]}},created:function(){var e=this;B.on("child_added",function(t){"holidays-list"===t.val().category&&(e.holidaysList=t.val(),e.allFields=p()(e.holidaysList.values[0]))})}};var W=function(e){a("HWp+")},K=Object(l.a)(Q,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-card",[e.holidaysList.from?[""!==e.cardTitle?a("div",{attrs:{slot:"header"},slot:"header"},[e._v("\n      "+e._s(e.holidaysList.from)+" till "+e._s(e.holidaysList.to)+"\n    ")]):e._e()]:[e._v("\n    No data yet!\n  ")],e._v(" "),e._l(e.holidaysList.values,function(t,n){return a("div",{key:n,staticClass:"container"},[e.holidaysList.values[n+1]?[t.Date===e.holidaysList.values[n+1].Date?a("div",{staticClass:"row",class:0===n?"food-header-zero":"food-header"},[a("div",{staticClass:"col"},[a("h3",[e._v(e._s(t.Date))]),e._v("\n            ("+e._s(t.Day)+")\n          ")])]):e._e()]:e._e(),e._v(" "),a("div",{staticClass:"row food-row text-center"},[a("div",{staticClass:"col-sm-12 col-md-4 col-lg-4 "},["Lunch"===t.Option?a("b-badge",{staticStyle:{padding:"10px","margin-top":"10px"},attrs:{variant:"warning"}},[e._v(e._s(t.Option))]):e._e(),e._v(" "),"Dinner"===t.Option?a("b-badge",{staticStyle:{padding:"10px","margin-top":"10px"},attrs:{variant:"success"}},[e._v(e._s(t.Option))]):e._e()],1),e._v(" "),e._l(e.allFields,function(n,s){return"Date"!==n&&"Day"!==n&&"Option"!==n?a("div",{key:s,staticClass:"col-sm-12 col-md-4 col-lg-4 "},[a("code",[e._v(e._s(n))]),e._v(" "),a("div",[e._v(e._s(t[n]))])]):e._e()})],2)],2)})],2)},[],!1,W,null,null).exports;var q=function(e){a("omrA")},Z=Object(l.a)({name:"cabSchedule"},function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n  Cab Schedule\n")])},[],!1,q,null,null).exports;var J=function(e){a("1YeQ")},X=Object(l.a)({name:"briefcase"},function(){var e=this.$createElement;return(this._self._c||e)("div",[this._v("\n  Briefcase\n")])},[],!1,J,null,null).exports;n.a.use(i.a);var G=new i.a({mode:"hash",linkActiveClass:"open active",scrollBehavior:function(){return{y:0}},routes:[{path:"/",redirect:"/dashboard",name:"Home",component:u,children:[{path:"dashboard",name:"Dashboard",component:T},{path:"templates",name:"Templates",component:R},{path:"create-post",name:"Create Post",beforeEnter:function(e,t,a){w.commit("clearSelected"),a()},component:z},{path:"briefcase",name:"Briefcase",component:X},{path:"food-menu",name:"Food Menu",component:_},{path:"cab-schedule",name:"Cab Schedule",component:Z},{path:"holidays-list",name:"Holidays",component:K}]}]});n.a.use(s.a),new n.a({el:"#app",router:G,created:function(){},store:w,template:"<App/>",components:{App:r}})},NY3r:function(e,t){},OSM3:function(e,t){},kd0g:function(e,t){},nUnZ:function(e,t){},omrA:function(e,t){},pieq:function(e,t){},sCty:function(e,t){},yDK8:function(e,t){},zj2Q:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ada00b5f870be2fcc538.js.map